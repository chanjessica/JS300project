(this["webpackJsonporder-to-go"]=this["webpackJsonporder-to-go"]||[]).push([[0],{33:function(e,t,a){e.exports=a(67)},53:function(e,t,a){},54:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n);a(48);c.a.initializeApp({apiKey:"AIzaSyC_2cgHigATkbQObBKKzuhkSWz-40iMgX8",authDomain:"jsweek62020.firebaseapp.com",projectId:"jsweek62020"});var o=a(0),l=a.n(o),r=a(29),i=a.n(r),u=(a(53),a(18)),s=a(3),m=(a(54),function(){return l.a.createElement("h1",null,"Page Not Found!  Please contact your Administrator")}),d=a(11),h=a(12),p=a(14),f=a(13),E=c.a.firestore(),b=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={isSignedIn:!1,entries:[]},e.buyIt=function(t){return function(a){var n=null!=c.a.auth().currentUser.uid;e.setState({isSignedIn:n}),console.log(n),a.preventDefault();var o=c.a.auth().currentUser.uid;E.collection("clients").doc(o).collection("foodToGo").add({orderDate:new Date,dish:t.dish,price:t.price})}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=E.collection("foodToGo").onSnapshot((function(t){e.setState({entries:t.docs})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.state.entries.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null," ",t.data().dish," "),l.a.createElement("td",null," $",t.data().price),l.a.createElement("td",null,"  ",l.a.createElement("button",{onClick:e.buyIt(t.data()),type:"submit"},"order it")," "))}));return l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Entry"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null))),l.a.createElement("tbody",null,t))}}]),a}(l.a.Component),v=c.a.firestore(),g=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={isSignedIn:!1,uid:" ",checkout:[],newBalance:0},e.deleteOrder=function(t){return function(a){console.log(t),a.preventDefault(),v.collection("clients").doc(e.state.uid).collection("foodToGo").doc(t).delete()}},e.placeOrder=function(t){return function(a){v.collection("clients").doc(e.state.uid).get().then((function(a){var n=parseFloat(a.data().balance-t,0).toFixed(2);alert("Hi ".concat(a.data().firstName," ").concat(a.data().lastName,", \n                \n$").concat(t," is deducted from your accountt (balance = $").concat(a.data().balance," ) \n                \nYour new balance is $").concat(n,"\n                \n\nThank you for your order! Please logout!")),e.setState({newBalance:n}),v.collection("clients").doc(e.state.uid).update({balance:n})}))}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=c.a.auth().onAuthStateChanged((function(t){e.setState({isSignedIn:!!t}),t&&(e.setState({uid:c.a.auth().currentUser.uid}),e.unsubscribe=v.collection("clients").doc(e.state.uid).collection("foodToGo").onSnapshot((function(t){e.setState({checkout:t.docs})})))}))}},{key:"render",value:function(){var e=this,t=this.state.checkout.map((function(t){return l.a.createElement("li",{key:t.id},t.data().dish,"    $",t.data().price,l.a.createElement("button",{onClick:e.deleteOrder(t.id),type:"button",className:"btn-info btn-xs float-right"}," Remove"))})),a=this.state.checkout.reduce((function(e,t){return parseFloat(e)+parseFloat(t.data().price)}),0).toFixed(2);return l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Your Cart:"),l.a.createElement("ol",null,t),l.a.createElement("div",{className:"total"},l.a.createElement("h5",null,"Total = $",a,l.a.createElement("button",{onClick:this.placeOrder(a),type:"button",className:"btn btn-xs btn-warning float-right"},"Place Order"))))}}]),a}(l.a.Component),y=c.a.firestore(),k=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={isSignedIn:!1},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=y.collection("foodToGo").onSnapshot((function(t){e.setState({entries:t.docs})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("h1",null,"Login and place your order"),l.a.createElement("div",{className:"col-md-8"},l.a.createElement(b,null)),l.a.createElement("div",{className:"col-md-4"},l.a.createElement(g,null))))}}]),a}(l.a.Component),N=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{className:"mt-4 text-center"},"Happy Kitchen"),l.a.createElement("div",{id:"food",className:"carousel slide   justify-content-center","data-ride":"carousel"},l.a.createElement("ul",{className:"carousel-indicators"},l.a.createElement("li",{"data-target":"#food","data-slide-to":"0",className:"active"}),l.a.createElement("li",{"data-target":"#food","data-slide-to":"1"}),l.a.createElement("li",{"data-target":"#food","data-slide-to":"2"})),l.a.createElement("div",{className:"carousel-inner"},l.a.createElement("div",{className:"carousel-item active justify-content-center"},l.a.createElement("img",{className:"d-block mx-auto",src:"https://lorempixel.com/output/food-q-c-640-480-1.jpg",alt:"food 1"}),l.a.createElement("div",{className:"carousel-caption"},l.a.createElement("h3",null,"Kung Po Chicken"))),l.a.createElement("div",{className:"carousel-item"},l.a.createElement("img",{className:"d-block mx-auto",src:"https://lorempixel.com/output/food-q-c-640-480-2.jpg",alt:"food 2"}),l.a.createElement("div",{className:"carousel-caption"},l.a.createElement("h3",null,"Mongolian Beef"))),l.a.createElement("div",{className:"carousel-item"},l.a.createElement("img",{className:"d-block mx-auto",src:"https://lorempixel.com/output/food-q-c-640-480-3.jpg",alt:"food 3"}),l.a.createElement("div",{className:"carousel-caption"},l.a.createElement("h3",null,"Twice Cooked Pork")))),l.a.createElement("a",{className:"carousel-control-prev text-warning",href:"#food","data-slide":"prev"},l.a.createElement("span",{className:"carousel-control-prev-icon"})),l.a.createElement("a",{className:"carousel-control-next text-warning",href:"#food","data-slide":"next"},l.a.createElement("span",{className:"carousel-control-next-icon"}))))},O=a(30),j=a.n(O),S={signInFlow:"popup",signInSuccessUrl:"/JS300project/#/menu",signInOptions:[c.a.auth.EmailAuthProvider.PROVIDER_ID]},w=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null," Please Login  "),l.a.createElement("p",null," Sign In:"),l.a.createElement(j.a,{uiConfig:S,firebaseAuth:c.a.auth()}))}}]),a}(l.a.Component),x=c.a.firestore(),I=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={isSignedIn:!1,checkout:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=c.a.auth().onAuthStateChanged((function(t){e.setState({isSignedIn:!!t}),t&&(e.setState({uid:c.a.auth().currentUser.uid}),e.unsubscribe=x.collection("clients").doc(e.state.uid).collection("foodToGo").onSnapshot((function(t){e.setState({checkout:t.docs})})))})),c.a.auth().signOut()}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this;return this.state.checkout.map((function(t){return x.collection("clients").doc(e.state.uid).collection("foodToGo").doc(t.id).delete()})),l.a.createElement("div",null," successful logout")}}]),a}(l.a.Component),A=function(){return l.a.createElement("div",{className:"nav"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(u.b,{exact:!0,to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(u.b,{to:"/menu"},"Menu")),l.a.createElement("li",null,l.a.createElement(u.b,{to:"/login"},"Login")),l.a.createElement("li",null,l.a.createElement(u.b,{to:"/logout"},"Logout"))))};var C=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(u.a,null,l.a.createElement("header",{className:"App-header"}," ",l.a.createElement(A,null)),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",component:N}),l.a.createElement(s.a,{exact:!0,path:"/login",component:w}),l.a.createElement(s.a,{exact:!0,path:"/logout",component:I}),l.a.createElement(s.a,{exact:!0,path:"/menu",component:k}),l.a.createElement(s.a,{path:"*",component:m}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.7d6312ba.chunk.js.map